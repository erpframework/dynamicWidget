window.dynamicWidgetParams||(dynamicWidgetParams={widgetJSDirectory:"/scripts/widgets/",widgetCSSDirectory:"/styles/widgets/",cache:!0,widgets:{}}),function(i){dynamicWidgetParams.widgets={},i.fn.dynamicWidget=function(t){var a=Array.prototype.slice.call(arguments);if(dynamicWidgetParams.widgets[t]||(dynamicWidgetParams.widgets[t]={loadCSS:!0}),i.dynamicWidget[t])return a.shift(),i(this)[t].apply(this,a);if(dynamicWidgetParams.widgets[t].loading)return setTimeout(i.proxy(function(){i(this).dynamicWidget.apply(this,a)},this),500),this;dynamicWidgetParams.widgets[t].loading=!0;var e=dynamicWidgetParams.widgetJSDirectory+t+".js";return i.ajax({url:e,dataType:"script",cache:dynamicWidgetParams.cache,success:i.proxy(function(){dynamicWidgetParams.widgets[t].loading=!1,i(this).dynamicWidget.apply(this,a)},this),error:i.proxy(function(){throw"Unable to load "+t+" js"},this)}),this}}(jQuery),jQuery.widget("dynamicWidget.base",{_init:function(){if(this.dw_init){var i=Array.prototype.slice.call(arguments);if(this.dw_init.apply(this,i),dynamicWidgetParams.widgets[this.widgetName].loadCSS){var t=dynamicWidgetParams.widgetCSSDirectory+this.widgetName+".css",a=t.replace(/[\./]/g,"_");0===$("#"+a).length&&$.ajax({url:t,dataType:"text",cache:dynamicWidgetParams.cache,success:function(i){$("head").append("<style id='"+a+"'>"+i+"</style>")},error:$.proxy(function(){throw"Unable to load "+widgetName+" css"},this)})}}},destroy:function(){if(dynamicWidgetParams.widgets[this.widgetName].loadCSS){var i=dynamicWidgetParams.widgetCSSDirectory+this.widgetName+".css";i=i.replace(/[\./]/g,"_"),$("#"+i).remove()}if(this.dw_destroy){var t=Array.prototype.slice.call(arguments);this.dw_destroy.apply(this,t)}}});